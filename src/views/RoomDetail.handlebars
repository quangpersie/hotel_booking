{{>header}}
<div id="detail-room" class="container-fluid mb-5" style="margin-top: 40px; padding-bottom: 20px;">
    <div class="container-carousel">
        <div id="demo" class="carousel slide mx-auto" data-ride="carousel">
            <!-- Indicators -->
            <ul class="carousel-indicators">
                <li data-target="#demo" data-slide-to="0" class="active"></li>
                <li data-target="#demo" data-slide-to="1"></li>
                <li data-target="#demo" data-slide-to="2"></li>
            </ul>
              {{#with roomDetail}}
            <!-- The slideshow -->
            <div class="carousel-inner">
                <div class="carousel-item active mx-auto">
                    <img src="/img/room/{{image}}" class="d-block mx-auto rounded img-carousel" alt="Room Image">
                </div>
                <div class="carousel-item">
                    <img src="/img/room/{{image}}" class="d-block mx-auto rounded img-carousel" alt="Room Image">
                </div>
                <div class="carousel-item">
                    <img src="/img/room/{{image}}" class="d-block mx-auto rounded img-carousel" alt="Room Image">
                </div>
            </div>
            {{/with}}
            <!-- Left and right controls -->
            <a class="carousel-control-prev" href="#demo" data-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </a>
            <a class="carousel-control-next" href="#demo" data-slide="next">
                <span class="carousel-control-next-icon"></span>
            </a>
        </div>
    </div>
    <div class="container-room-detail mt-4">
        <div class="row">
            <span hidden id="type_room">{{flash_room}}</span>
            {{#with roomDetail}}
            <div class="col-sm-8 col-12">
                <h1>Room {{type}} - Room {{name}}<span class="font-weight-bold float-right"
                        style="font-size: 32px;">${{price}}/<span style="font-size: 16px;">night</span></span></h1>
                <div class="free_item"> <i class="fa-solid fa-wifi free_ser_ic"></i> Free Wifi</div>
                <div class="free_item"> <i class="fa-solid fa-square-parking free_ser_ic"></i> Free Parking</div>
                <p class="mt-3">{{description}}</p>
            </div>
            {{/with }}
            <div class="col-sm-4 col-12">
                <div class="form-booking-detail">        
                    <div>
                        <h4 class="text-header">Date Booking:</h4>
                        <span class="pl-4">From: <b id="from_date" >{{flash_from}}</b></span><br>
                        <span class="pl-4">To: <b id="to_date" >{{flash_to}}</b></span>
                    </div>
                      {{#with roomDetail}}
                    <div class="col-12 mt-5">
                        <div class="text-right">
                            <button href="/service/search-result" class="btn btn-primary btn_back">Back to
                                others</button>
                            <button class="btn btn-primary btn_book" data-price="{{price}}" data-id="{{_id}}">Book
                                now</button>
                        </div>
                    </div>
                    {{/with}}
                </div>
            </div>
        </div>
    </div>

    <script>
        $('.btn_back').click(e => {
            location.href = `/service/search-result?fromDate=${$('#from_date').text()}&&toDate=${$('#to_date').text()}&&type=${$('#type_room').text()}`
        })
        $('.btn_book').click(e => {
            $.ajax({
                url: `/service/write-price-id?price=${$(e.target).data('price')}&&id=${$(e.target).data('id')}`
            })
            location.href = '/service/confirm-booking'
        })
    </script>
</div>
    {{> footer}}